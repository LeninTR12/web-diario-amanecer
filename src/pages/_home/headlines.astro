---
import MainHeadline from "@/components/cards/mainHeadline.astro";
import SubHeadlineCard from "@/components/cards/subHeadlineCard.astro";
import { articlesHandler } from "@/lib/handlers/articles";
import type { Article } from "@/lib/types";
import PrintEdition from "@/components/widgets/printEdition.astro";

const mainArticles: Article[] = await articlesHandler.mainHeadline();
const subArticles: Article[] = await articlesHandler.subHeadlines();
---

<section
  class="w-full max-w-[1024px] xl:px-0 grid grid-cols-1 lg:grid-cols-10 container gap-8 pt-4 md:pt-8"
  data-pagefind-ignore="all"
>
  <div class="col-span-1 md:col-span-6">
    <MainHeadline articles={mainArticles} />
  </div>
  <div class="flex flex-col min-w-full md:grid md:grid-cols-7 lg:flex lg:flex-col gap-5 col-span-1 md:col-span-4 lg:col-span-4 mt-12 lg:mt-0">
    <div class="flex flex-col gap-5 col-span-5">
      {
        subArticles.map((article: Article, index: number) => (
          <SubHeadlineCard
            article={article}
            isFirst={index === 0}
            isLast={index === subArticles.length - 1}
          />
        ))
      }
    </div>
    <PrintEdition />
  </div>
</section>
